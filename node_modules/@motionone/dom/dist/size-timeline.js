var t=function(){};function e(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}"production"!==process.env.NODE_ENV&&(t=function(t,e){if(!t)throw new Error(e)});const n={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},i=t=>"number"==typeof t,a=t=>"object"==typeof t&&Boolean(t.createAnimation),s=t=>Array.isArray(t)&&!i(t[0]),r=(t,e,n)=>-n*t+n*e+t,o=()=>{},l=t=>t,c=(t,e,n)=>e-t==0?1:(n-t)/(e-t);function u(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=c(0,e,i);t.push(r(n,1,a))}}function h(t){const e=[0];return u(e,t-1),e}const f=t=>1e3*t,d=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function m(t,e,n,i){if(t===e&&n===i)return l;const a=e=>function(t,e,n,i,a){let s,r,o=0;do{r=e+(n-e)/2,s=d(r,i,a)-t,s>0?n=r:e=r}while(Math.abs(s)>1e-7&&++o<12);return r}(e,0,1,t,n);return t=>0===t||1===t?t:d(a(t),e,i)}const p=(t,e="end")=>n=>{const i=(n="end"===e?Math.min(n,.999):Math.max(n,.001))*t,a="end"===e?Math.floor(i):Math.ceil(i);return s=0,r=1,o=a/t,Math.min(Math.max(o,s),r);var s,r,o},y={ease:m(.25,.1,.25,1),"ease-in":m(.42,0,1,1),"ease-in-out":m(.42,0,.58,1),"ease-out":m(0,0,.58,1)},g=/\((.*?)\)/;function v(t){if("function"==typeof t)return t;if(Array.isArray(t))return m(...t);if(y[t])return y[t];if(t.startsWith("steps")){const e=g.exec(t);if(e){const t=e[1].split(",");return p(parseFloat(t[0]),t[1].trim())}}return l}function w(t,e){return s(t)?t[((t,e,n)=>{const i=e-t;return((n-t)%i+i)%i+t})(0,t.length,e)]:t}function O(t,e=h(t.length),n=l){const i=t.length,a=i-e.length;return a>0&&u(e,a),a=>{let s=0;for(;s<i-2&&!(a<e[s+1]);s++);let o=(l=c(e[s],e[s+1],a),Math.min(1,Math.max(l,0)));var l;return o=w(n,s)(o),r(t[s],t[s+1],o)}}class b{constructor(t,e=[0,1],{easing:i=n.easing,duration:r=n.duration,delay:o=n.delay,endDelay:c=n.endDelay,repeat:u=n.repeat,offset:h,direction:f="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.playState="idle",this.finished=new Promise(((t,e)=>{this.resolve=t,this.reject=e})),a(i)){const t=i.createAnimation(e,(()=>"0"),!0);i=t.easing,void 0!==t.keyframes&&(e=t.keyframes),void 0!==t.duration&&(r=t.duration)}const d=s(i)?l:v(i),m=r*(u+1),p=O(e,h,s(i)?i.map(v):l);this.tick=e=>{var n;this.pauseTime&&(e=this.pauseTime);let i=(e-this.startTime)*this.rate;this.t=i,i/=1e3,i=Math.max(i-o,0),"finished"===this.playState&&(i=m);const a=i/r;let s=Math.floor(a),l=a%1;!l&&a>=1&&(l=1),1===l&&s--;const u=s%2;("reverse"===f||"alternate"===f&&u||"alternate-reverse"===f&&!u)&&(l=1-l);const h=i>=m?1:Math.min(l,1),y=p(d(h));t(y);"finished"===this.playState||i>=m+c?(this.playState="finished",null===(n=this.resolve)||void 0===n||n.call(this,y)):"idle"!==this.playState&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){var t;const e=performance.now();this.playState="running",this.pauseTime?this.startTime=e-(this.pauseTime-(null!==(t=this.startTime)&&void 0!==t?t:0)):this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=performance.now()}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",void 0!==this.frameRequestId&&cancelAnimationFrame(this.frameRequestId),null===(t=this.reject)||void 0===t||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}get currentTime(){return this.t}set currentTime(t){this.pauseTime||0===this.rate?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}function S(t,e,n){return"function"==typeof t?t(e,n):t}class T{setAnimation(t){this.animation=t,null==t||t.finished.then((()=>this.clearAnimation())).catch((()=>{}))}clearAnimation(){this.animation=this.generator=void 0}}const x=new WeakMap;function A(t){return x.has(t)||x.set(t,{transforms:[],values:new Map}),x.get(t)}const k=["","X","Y","Z"],M={x:"translateX",y:"translateY",z:"translateZ"},j={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},D={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:j,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:l},skew:j},P=new Map,E=t=>`--motion-${t}`,R=["x","y","z"];["translate","scale","rotate","skew"].forEach((t=>{k.forEach((e=>{R.push(t+e),P.set(E(t+e),D[t])}))}));const V=(t,e)=>R.indexOf(t)-R.indexOf(e),$=new Set(R),q=t=>$.has(t),F=t=>t.sort(V).reduce(U,"").trim(),U=(t,e)=>`${t} ${e}(var(${E(e)}))`,W=t=>t.startsWith("--"),_=new Set;const C=t=>(t=>Array.isArray(t)&&i(t[0]))(t)?I(t):t,I=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,B=t=>document.createElement("div").animate(t,{duration:.001}),z={cssRegisterProperty:()=>"undefined"!=typeof CSS&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{B({opacity:[1]})}catch(t){return!1}return!0},finished:()=>Boolean(B({opacity:[0,1]}).finished)},N={},K={};for(const t in z)K[t]=()=>(void 0===N[t]&&(N[t]=z[t]()),N[t]);const X=t=>Array.isArray(t)?t:[t];function Y(t){return M[t]&&(t=M[t]),q(t)?E(t):t}const Z=(t,e)=>{e=Y(e);let n=W(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!n&&0!==n){const t=P.get(e);t&&(n=t.initialValue)}return n},L=(t,e,n)=>{e=Y(e),W(e)?t.style.setProperty(e,n):t.style[e]=n};function G(t,e=!0){if(t&&"finished"!==t.playState)try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch(t){}}function H(t,e,r,l={}){const c=window.__MOTION_DEV_TOOLS_RECORD,u=!1!==l.record&&c;let h,{duration:d=n.duration,delay:m=n.delay,endDelay:p=n.endDelay,repeat:y=n.repeat,easing:g=n.easing,direction:v,offset:w,allowWebkitAcceleration:O=!1}=l;const S=A(t);let x=K.waapi();const k=q(e);k&&((t,e)=>{M[e]&&(e=M[e]);const{transforms:n}=A(t);var i,a;a=e,-1===(i=n).indexOf(a)&&i.push(a),t.style.transform=F(n)})(t,e);const j=Y(e),D=function(t,e){return t.has(e)||t.set(e,new T),t.get(e)}(S.values,j),E=P.get(j);return G(D.animation,!(a(g)&&D.generator)&&!1!==l.record),()=>{const n=()=>{var e,n;return null!==(n=null!==(e=Z(t,j))&&void 0!==e?e:null==E?void 0:E.initialValue)&&void 0!==n?n:0};let S=function(t,e){for(let n=0;n<t.length;n++)null===t[n]&&(t[n]=n?t[n-1]:e());return t}(X(r),n);if(a(g)){const t=g.createAnimation(S,n,k,j,D);g=t.easing,void 0!==t.keyframes&&(S=t.keyframes),void 0!==t.duration&&(d=t.duration)}if(W(j)&&(K.cssRegisterProperty()?function(t){if(!_.has(t)){_.add(t);try{const{syntax:e,initialValue:n}=P.has(t)?P.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:n})}catch(t){}}}(j):x=!1),x){E&&(S=S.map((t=>i(t)?E.toDefaultUnit(t):t))),1!==S.length||K.partialKeyframes()&&!u||S.unshift(n());const e={delay:f(m),duration:f(d),endDelay:f(p),easing:s(g)?void 0:C(g),direction:v,iterations:y+1,fill:"both"};h=t.animate({[j]:S,offset:w,easing:s(g)?g.map(C):void 0},e),h.finished||(h.finished=new Promise(((t,e)=>{h.onfinish=t,h.oncancel=e})));const a=S[S.length-1];h.finished.then((()=>{L(t,j,a),h.cancel()})).catch(o),O||(h.playbackRate=1.000001)}else if(k){S=S.map((t=>"string"==typeof t?parseFloat(t):t)),1===S.length&&S.unshift(parseFloat(n()));h=new b((e=>{E&&(e=E.toDefaultUnit(e)),L(t,j,e)}),S,Object.assign(Object.assign({},l),{duration:d,easing:g}))}else{const e=S[S.length-1];L(t,j,E&&i(e)?E.toDefaultUnit(e):e)}return u&&c(t,e,S,{duration:d,delay:m,easing:g,repeat:y,offset:w},"motion-one"),D.setAnimation(h),h}}const J=t=>t(),Q={get:(t,e)=>{const n=t.animations[0];switch(e){case"duration":return t.duration;case"currentTime":let i=(null==n?void 0:n[e])||0;return i?i/1e3:0;case"playbackRate":case"playState":return null==n?void 0:n[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(tt)).catch(o)),t.finished;case"stop":return()=>t.animations.forEach((t=>G(t)));default:return void 0===(null==n?void 0:n[e])?void 0:()=>t.animations.forEach((t=>t[e]()))}},set:(t,e,n)=>{switch(e){case"currentTime":n=f(n);case"currentTime":case"playbackRate":for(let i=0;i<t.animations.length;i++)t.animations[i][e]=n;return!0}return!1}},tt=t=>t.finished,et=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function nt(t,e){var n;return"string"==typeof t?e?(null!==(n=e[t])&&void 0!==n||(e[t]=document.querySelectorAll(t)),t=e[t]):t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}function it(t,e,n,a){var s;return i(e)?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):"<"===e?n:null!==(s=a.get(e))&&void 0!==s?s:t}function at(t,n,i,a,s,o){!function(t,n,i){for(let a=0;a<t.length;a++){const s=t[a];s.at>n&&s.at<i&&(e(t,s),a--)}}(t,s,o);for(let e=0;e<n.length;e++)t.push({value:n[e],at:r(s,o,a[e]),easing:w(i,e)})}function st(t,e){return t.at===e.at?null===t.value?1:-1:t.at-e.at}function rt(t,e={}){var i;const a=ot(t,e),s=a.map((t=>H(...t))).filter(Boolean);return((t,e=n.duration)=>new Proxy({animations:t.map(J).filter(Boolean),duration:e},Q))(s,null===(i=a[0])||void 0===i?void 0:i[3].duration)}function ot(e,i={}){var{defaultOptions:s={}}=i,r=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]])}return n}(i,["defaultOptions"]);const o=[],l=new Map,f={},d=new Map;let m=0,p=0,y=0;for(let i=0;i<e.length;i++){const r=e[i];if("string"==typeof r){d.set(r,p);continue}if(!Array.isArray(r)){d.set(r.name,it(p,r.at,m,d));continue}const[o,c,g={}]=r;void 0!==g.at&&(p=it(p,g.at,m,d));let v=0;const w=nt(o,f),O=w.length;for(let e=0;e<O;e++){const i=lt(w[e],l);for(const r in c){const o=ct(r,i);let l=X(c[r]);const f=et(g,r);let{duration:d=s.duration||n.duration,easing:m=s.easing||n.easing}=f;if(a(m)){const e=q(r);t(2===l.length||!e,"spring must be provided 2 keyframes within timeline");const n=m.createAnimation(l,(()=>"0"),e);m=n.easing,void 0!==n.keyframes&&(l=n.keyframes),void 0!==n.duration&&(d=n.duration)}const w=S(g.delay,e,O)||0,b=p+w,T=b+d;let{offset:x=h(l.length)}=f;1===x.length&&0===x[0]&&(x[1]=1);const A=length-l.length;A>0&&u(x,A),1===l.length&&l.unshift(null),at(o,l,m,x,b,T),v=Math.max(w+d,v),y=Math.max(T,y)}}m=p,p+=v}return l.forEach(((t,e)=>{for(const i in t){const a=t[i];a.sort(st);const l=[],u=[],h=[];for(let t=0;t<a.length;t++){const{at:e,value:i,easing:s}=a[t];l.push(i),u.push(c(0,y,e)),h.push(s||n.easing)}0!==u[0]&&(u.unshift(0),l.unshift(l[0]),h.unshift("linear")),1!==u[u.length-1]&&(u.push(1),l.push(null)),o.push([e,i,l,Object.assign(Object.assign(Object.assign({},s),{duration:y,easing:h,offset:u}),r)])}})),o}function lt(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function ct(t,e){return e[t]||(e[t]=[]),e[t]}export{ot as createAnimationsFromTimeline,rt as timeline};
