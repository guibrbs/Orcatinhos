class t{setAnimation(t){this.animation=t,null==t||t.finished.then((()=>this.clearAnimation())).catch((()=>{}))}clearAnimation(){this.animation=this.generator=void 0}}const e=new WeakMap;function i(t){return e.has(t)||e.set(t,{transforms:[],values:new Map}),e.get(t)}const a={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},n=t=>"number"==typeof t,s=t=>"object"==typeof t&&Boolean(t.createAnimation),r=t=>Array.isArray(t)&&!n(t[0]),o=(t,e,i)=>-i*t+i*e+t,l=()=>{},c=t=>t,h=(t,e,i)=>e-t==0?1:(i-t)/(e-t);function u(t,e){const i=t[t.length-1];for(let a=1;a<=e;a++){const n=h(0,e,a);t.push(o(i,1,n))}}const f=t=>1e3*t,m=["","X","Y","Z"],d={x:"translateX",y:"translateY",z:"translateZ"},p={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},y={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:p,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:c},skew:p},g=new Map,v=t=>`--motion-${t}`,T=["x","y","z"];["translate","scale","rotate","skew"].forEach((t=>{m.forEach((e=>{T.push(t+e),g.set(v(t+e),y[t])}))}));const w=(t,e)=>T.indexOf(t)-T.indexOf(e),S=new Set(T),A=t=>S.has(t),x=t=>t.sort(w).reduce(k,"").trim(),k=(t,e)=>`${t} ${e}(var(${v(e)}))`,M=t=>t.startsWith("--"),b=new Set;const D=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t;function O(t,e,i,a){if(t===e&&i===a)return c;const n=e=>function(t,e,i,a,n){let s,r,o=0;do{r=e+(i-e)/2,s=D(r,a,n)-t,s>0?i=r:e=r}while(Math.abs(s)>1e-7&&++o<12);return r}(e,0,1,t,i);return t=>0===t||1===t?t:D(n(t),e,a)}const P=(t,e="end")=>i=>{const a=(i="end"===e?Math.min(i,.999):Math.max(i,.001))*t,n="end"===e?Math.floor(a):Math.ceil(a);return s=0,r=1,o=n/t,Math.min(Math.max(o,s),r);var s,r,o},R={ease:O(.25,.1,.25,1),"ease-in":O(.42,0,1,1),"ease-in-out":O(.42,0,.58,1),"ease-out":O(0,0,.58,1)},V=/\((.*?)\)/;function $(t){if("function"==typeof t)return t;if(Array.isArray(t))return O(...t);if(R[t])return R[t];if(t.startsWith("steps")){const e=V.exec(t);if(e){const t=e[1].split(",");return P(parseFloat(t[0]),t[1].trim())}}return c}function j(t,e=function(t){const e=[0];return u(e,t-1),e}(t.length),i=c){const a=t.length,n=a-e.length;return n>0&&u(e,n),n=>{let s=0;for(;s<a-2&&!(n<e[s+1]);s++);let l=(c=h(e[s],e[s+1],n),Math.min(1,Math.max(c,0)));var c;const u=function(t,e){return r(t)?t[((t,e,i)=>{const a=e-t;return((i-t)%a+a)%a+t})(0,t.length,e)]:t}(i,s);return l=u(l),o(t[s],t[s+1],l)}}class E{constructor(t,e=[0,1],{easing:i=a.easing,duration:n=a.duration,delay:o=a.delay,endDelay:l=a.endDelay,repeat:h=a.repeat,offset:u,direction:f="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.playState="idle",this.finished=new Promise(((t,e)=>{this.resolve=t,this.reject=e})),s(i)){const t=i.createAnimation(e,(()=>"0"),!0);i=t.easing,void 0!==t.keyframes&&(e=t.keyframes),void 0!==t.duration&&(n=t.duration)}const m=r(i)?c:$(i),d=n*(h+1),p=j(e,u,r(i)?i.map($):c);this.tick=e=>{var i;this.pauseTime&&(e=this.pauseTime);let a=(e-this.startTime)*this.rate;this.t=a,a/=1e3,a=Math.max(a-o,0),"finished"===this.playState&&(a=d);const s=a/n;let r=Math.floor(s),c=s%1;!c&&s>=1&&(c=1),1===c&&r--;const h=r%2;("reverse"===f||"alternate"===f&&h||"alternate-reverse"===f&&!h)&&(c=1-c);const u=a>=d?1:Math.min(c,1),y=p(m(u));t(y);"finished"===this.playState||a>=d+l?(this.playState="finished",null===(i=this.resolve)||void 0===i||i.call(this,y)):"idle"!==this.playState&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){var t;const e=performance.now();this.playState="running",this.pauseTime?this.startTime=e-(this.pauseTime-(null!==(t=this.startTime)&&void 0!==t?t:0)):this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=performance.now()}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",void 0!==this.frameRequestId&&cancelAnimationFrame(this.frameRequestId),null===(t=this.reject)||void 0===t||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}get currentTime(){return this.t}set currentTime(t){this.pauseTime||0===this.rate?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}const F=t=>(t=>Array.isArray(t)&&n(t[0]))(t)?U(t):t,U=([t,e,i,a])=>`cubic-bezier(${t}, ${e}, ${i}, ${a})`,q=t=>document.createElement("div").animate(t,{duration:.001}),C={cssRegisterProperty:()=>"undefined"!=typeof CSS&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{q({opacity:[1]})}catch(t){return!1}return!0},finished:()=>Boolean(q({opacity:[0,1]}).finished)},_={},I={};for(const t in C)I[t]=()=>(void 0===_[t]&&(_[t]=C[t]()),_[t]);function W(t){return d[t]&&(t=d[t]),A(t)?v(t):t}const z=(t,e)=>{e=W(e);let i=M(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!i&&0!==i){const t=g.get(e);t&&(i=t.initialValue)}return i},B=(t,e,i)=>{e=W(e),M(e)?t.style.setProperty(e,i):t.style[e]=i};function K(e,o,c,h={}){const u=window.__MOTION_DEV_TOOLS_RECORD,m=!1!==h.record&&u;let p,{duration:y=a.duration,delay:v=a.delay,endDelay:T=a.endDelay,repeat:w=a.repeat,easing:S=a.easing,direction:k,offset:D,allowWebkitAcceleration:O=!1}=h;const P=i(e);let R=I.waapi();const V=A(o);V&&((t,e)=>{d[e]&&(e=d[e]);const{transforms:a}=i(t);var n,s;s=e,-1===(n=a).indexOf(s)&&n.push(s),t.style.transform=x(a)})(e,o);const $=W(o),j=function(e,i){return e.has(i)||e.set(i,new t),e.get(i)}(P.values,$),U=g.get($);return function(t,e=!0){if(t&&"finished"!==t.playState)try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch(t){}}(j.animation,!(s(S)&&j.generator)&&!1!==h.record),()=>{const t=()=>{var t,i;return null!==(i=null!==(t=z(e,$))&&void 0!==t?t:null==U?void 0:U.initialValue)&&void 0!==i?i:0};let i=function(t,e){for(let i=0;i<t.length;i++)null===t[i]&&(t[i]=i?t[i-1]:e());return t}((t=>Array.isArray(t)?t:[t])(c),t);if(s(S)){const e=S.createAnimation(i,t,V,$,j);S=e.easing,void 0!==e.keyframes&&(i=e.keyframes),void 0!==e.duration&&(y=e.duration)}if(M($)&&(I.cssRegisterProperty()?function(t){if(!b.has(t)){b.add(t);try{const{syntax:e,initialValue:i}=g.has(t)?g.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:i})}catch(t){}}}($):R=!1),R){U&&(i=i.map((t=>n(t)?U.toDefaultUnit(t):t))),1!==i.length||I.partialKeyframes()&&!m||i.unshift(t());const a={delay:f(v),duration:f(y),endDelay:f(T),easing:r(S)?void 0:F(S),direction:k,iterations:w+1,fill:"both"};p=e.animate({[$]:i,offset:D,easing:r(S)?S.map(F):void 0},a),p.finished||(p.finished=new Promise(((t,e)=>{p.onfinish=t,p.oncancel=e})));const s=i[i.length-1];p.finished.then((()=>{B(e,$,s),p.cancel()})).catch(l),O||(p.playbackRate=1.000001)}else if(V){i=i.map((t=>"string"==typeof t?parseFloat(t):t)),1===i.length&&i.unshift(parseFloat(t()));p=new E((t=>{U&&(t=U.toDefaultUnit(t)),B(e,$,t)}),i,Object.assign(Object.assign({},h),{duration:y,easing:S}))}else{const t=i[i.length-1];B(e,$,U&&n(t)?U.toDefaultUnit(t):t)}return m&&u(e,o,i,{duration:y,delay:v,easing:S,repeat:w,offset:D},"motion-one"),j.setAnimation(p),p}}export{K as animateStyle};
